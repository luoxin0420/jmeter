<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="3.2" jmeter="3.2 r1790748">
  <hashTree>
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="Test Plan" enabled="true">
      <stringProp name="TestPlan.comments"></stringProp>
      <boolProp name="TestPlan.functional_mode">false</boolProp>
      <boolProp name="TestPlan.serialize_threadgroups">false</boolProp>
      <elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
        <collectionProp name="Arguments.arguments"/>
      </elementProp>
      <stringProp name="TestPlan.user_define_classpath">E:\workspace\genID.jar,E:\workspace\extlib.jar</stringProp>
    </TestPlan>
    <hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="Thread Group" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1438064469000</longProp>
        <longProp name="ThreadGroup.end_time">1438064469000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <ResultCollector guiclass="TableVisualizer" testclass="ResultCollector" testname="View Results in Table" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <url>true</url>
              <fileName>true</fileName>
              <hostname>true</hostname>
              <threadCounts>true</threadCounts>
              <sampleCount>true</sampleCount>
              <idleTime>true</idleTime>
              <connectTime>true</connectTime>
            </value>
          </objProp>
          <objProp>
            <name></name>
            <value class="SampleSaveConfiguration">
              <time>false</time>
              <latency>false</latency>
              <timestamp>false</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>false</dataType>
              <encoding>false</encoding>
              <assertions>false</assertions>
              <subresults>false</subresults>
              <responseData>true</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <url>true</url>
              <fileName>true</fileName>
              <hostname>true</hostname>
              <threadCounts>true</threadCounts>
              <sampleCount>true</sampleCount>
              <idleTime>true</idleTime>
              <connectTime>true</connectTime>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="StatVisualizer" testclass="ResultCollector" testname="Aggregate Report" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <url>true</url>
              <fileName>true</fileName>
              <hostname>true</hostname>
              <threadCounts>true</threadCounts>
              <sampleCount>true</sampleCount>
              <idleTime>true</idleTime>
              <connectTime>true</connectTime>
            </value>
          </objProp>
          <objProp>
            <name></name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <url>true</url>
              <fileName>true</fileName>
              <hostname>true</hostname>
              <threadCounts>true</threadCounts>
              <sampleCount>true</sampleCount>
              <idleTime>true</idleTime>
              <connectTime>true</connectTime>
            </value>
          </objProp>
          <stringProp name="filename">../../testdata/log10.csv</stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="Result Tree" enabled="true">
          <boolProp name="ResultCollector.error_logging">false</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <url>true</url>
              <fileName>true</fileName>
              <hostname>true</hostname>
              <threadCounts>true</threadCounts>
              <sampleCount>true</sampleCount>
              <idleTime>true</idleTime>
              <connectTime>true</connectTime>
            </value>
          </objProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="Log Errors Results Tree" enabled="true">
          <boolProp name="ResultCollector.error_logging">true</boolProp>
          <objProp>
            <name>saveConfig</name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <url>true</url>
              <fileName>true</fileName>
              <hostname>true</hostname>
              <threadCounts>true</threadCounts>
              <sampleCount>true</sampleCount>
              <idleTime>true</idleTime>
              <connectTime>true</connectTime>
            </value>
          </objProp>
          <objProp>
            <name></name>
            <value class="SampleSaveConfiguration">
              <time>true</time>
              <latency>true</latency>
              <timestamp>true</timestamp>
              <success>true</success>
              <label>true</label>
              <code>true</code>
              <message>true</message>
              <threadName>true</threadName>
              <dataType>true</dataType>
              <encoding>false</encoding>
              <assertions>true</assertions>
              <subresults>true</subresults>
              <responseData>false</responseData>
              <samplerData>false</samplerData>
              <xml>false</xml>
              <fieldNames>false</fieldNames>
              <responseHeaders>false</responseHeaders>
              <requestHeaders>false</requestHeaders>
              <responseDataOnError>false</responseDataOnError>
              <saveAssertionResultsFailureMessage>false</saveAssertionResultsFailureMessage>
              <assertionsResultsToSave>0</assertionsResultsToSave>
              <bytes>true</bytes>
              <url>true</url>
              <fileName>true</fileName>
              <hostname>true</hostname>
              <threadCounts>true</threadCounts>
              <sampleCount>true</sampleCount>
              <idleTime>true</idleTime>
              <connectTime>true</connectTime>
            </value>
          </objProp>
          <stringProp name="TestPlan.comments">This logs the errors to a log file</stringProp>
          <stringProp name="filename"></stringProp>
        </ResultCollector>
        <hashTree/>
        <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
          <collectionProp name="Arguments.arguments">
            <elementProp name="JScode" elementType="Argument">
              <stringProp name="Argument.name">JScode</stringProp>
              <stringProp name="Argument.value">003YnO3e2ma83B0Tz24e2OE74e2YnO3D</stringProp>
              <stringProp name="Argument.metadata">=</stringProp>
            </elementProp>
            <elementProp name="SessionID" elementType="Argument">
              <stringProp name="Argument.name">SessionID</stringProp>
              <stringProp name="Argument.value"></stringProp>
              <stringProp name="Argument.metadata">=</stringProp>
              <stringProp name="Argument.desc">登录返回</stringProp>
            </elementProp>
            <elementProp name="UserID" elementType="Argument">
              <stringProp name="Argument.name">UserID</stringProp>
              <stringProp name="Argument.value"></stringProp>
              <stringProp name="Argument.desc">登录返回</stringProp>
              <stringProp name="Argument.metadata">=</stringProp>
            </elementProp>
            <elementProp name="ID" elementType="Argument">
              <stringProp name="Argument.name">ID</stringProp>
              <stringProp name="Argument.value"></stringProp>
              <stringProp name="Argument.metadata">=</stringProp>
            </elementProp>
            <elementProp name="LoginFlag" elementType="Argument">
              <stringProp name="Argument.name">LoginFlag</stringProp>
              <stringProp name="Argument.value">False</stringProp>
              <stringProp name="Argument.metadata">=</stringProp>
            </elementProp>
            <elementProp name="TagList" elementType="Argument">
              <stringProp name="Argument.name">TagList</stringProp>
              <stringProp name="Argument.value"></stringProp>
              <stringProp name="Argument.metadata">=</stringProp>
            </elementProp>
          </collectionProp>
        </Arguments>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="HTTP Request Defaults" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">www.ixiaolian.cc</stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol">https</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">4</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Request Header" enabled="true">
          <collectionProp name="HeaderManager.headers">
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">charset</stringProp>
              <stringProp name="Header.value">utf-8</stringProp>
            </elementProp>
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">content-type</stringProp>
              <stringProp name="Header.value">application/json</stringProp>
            </elementProp>
          </collectionProp>
        </HeaderManager>
        <hashTree/>
        <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="初始环境：(登录)" enabled="true"/>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="初始环境：得到SESSIONID" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;id&quot;:&quot;${ID}&quot;,&#xd;
	&quot;data&quot;:&#xd;
	{&#xd;
		&quot;jsCode&quot;:&quot;${JScode}&quot;&#xd;
	}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/server/ytime_mp/mp/login</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Get Random ID" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import jmeter_extlib.ExtLibrary;
String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);



</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49592">206</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证响应JSON结构" enabled="true">
              <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = responseJSON.getNames(responseJSON);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();
//System.out.println(field_name);

if (field_name.indexOf(&quot;dataidtimeversio&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}
</stringProp>
              <stringProp name="BeanShellAssertion.filename"></stringProp>
              <stringProp name="BeanShellAssertion.parameters"></stringProp>
              <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
            </BeanShellAssertion>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="得到sessionid与userid值" enabled="true">
              <stringProp name="filename"></stringProp>
              <stringProp name="parameters"></stringProp>
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="script">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
try
{
	String result = data.getString(&quot;sessionid&quot;);
	int uid = data.getInt(&quot;user_id&quot;);
	//System.out.println(result);
	vars.put(&quot;SessionID&quot;,result);
	vars.put(&quot;LoginFlag&quot;,&quot;True&quot;);
	vars.put(&quot;UserID&quot;,String.valueOf(uid));
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}



</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询群日历" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;id&quot;:&quot;P6WHS7L336&quot;,&quot;data&quot;:{&quot;user_id&quot; : ${UserID}}}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/server/ytime_mp/tag/my_tags</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Request Header" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">charset</stringProp>
                  <stringProp name="Header.value">utf-8</stringProp>
                </elementProp>
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">content-type</stringProp>
                  <stringProp name="Header.value">application/json</stringProp>
                </elementProp>
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">session-id</stringProp>
                  <stringProp name="Header.value">${SessionID}</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49592">206</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="得到Tag" enabled="true">
              <stringProp name="filename"></stringProp>
              <stringProp name="parameters"></stringProp>
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="script">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);

int tagid = 0;
String res = &quot;&quot;;

try
{
	JSONArray tags = data.getJSONArray(&quot;managed_tags&quot;);
	for (int i = 0; i &lt; tags.length(); i++) { 
        tagid = tags.getJSONObject(i).getJSONObject(&quot;tag&quot;).getInt(&quot;tag_id&quot;);
        res = res + String.valueOf(tagid) + &quot;:&quot;;
	}
	
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);	
}

vars.put(&quot;TagList&quot;,res);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果登录成功" enabled="true">
          <stringProp name="IfController.condition">&quot;${LoginFlag}&quot; == &quot;True&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Request Header" enabled="true">
            <collectionProp name="HeaderManager.headers">
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">charset</stringProp>
                <stringProp name="Header.value">utf-8</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">content-type</stringProp>
                <stringProp name="Header.value">application/json</stringProp>
              </elementProp>
              <elementProp name="" elementType="Header">
                <stringProp name="Header.name">session-id</stringProp>
                <stringProp name="Header.value">${SessionID}</stringProp>
              </elementProp>
            </collectionProp>
          </HeaderManager>
          <hashTree/>
          <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="事件协议" enabled="true"/>
          <hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询事件选项(event/options)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="事件选项" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;YHSYU9VPMW&quot;,&quot;data&quot;:{}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/event/option</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49592">206</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证重复事件选项" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

int count = 0;
String name = &quot;&quot;;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
	JSONArray rept = data.getJSONArray(&quot;repeateds&quot;);
	for (int i = 0; i &lt; rept.length(); i++) { 
        name = name + rept.getJSONObject(i).getString(&quot;caption&quot;);
	}
}
catch (Exception e) {
	System.out.println(e);
}

if (name.indexOf(&quot;不重复每天重复每周重复每两周重复每月重复每年重复工作日重复&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Capital value is not right. actual name:&quot; + name;
} </stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证提醒事件选项" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

int count = 0;
String name = &quot;&quot;;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
	JSONArray reminder = data.getJSONArray(&quot;reminders&quot;);
	for (int i = 0; i &lt; reminder.length(); i++) { 
        name = name + reminder.getJSONObject(i).getString(&quot;caption&quot;);
	}
}
catch (Exception e) {
	System.out.println(e);
}

if (name.indexOf(&quot;不设置开始提醒开始时开始前5分钟开始前15分钟开始前30分钟开始前1小时开始前2小时开始前1天开始前2天开始前1周&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Capital value is not right. actual name:&quot; + name;
} </stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询评论模板(event/remarks_template)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="评论模板" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;YHSYU9VPMW&quot;,&quot;data&quot;:{}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/event/remarks_template</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证评论模板结构" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
JSONArray re = data.getJSONArray(&quot;remarksTempletData&quot;);
JSONObject retemp = re.getJSONObject(0);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = retemp.getNames(retemp);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();

if (field_name.indexOf(&quot;checkedcontentcreate_timedata_typenecessaryquestion_idtemplet_id&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询封面资源(event/covers)" enabled="true"/>
            <hashTree>
              <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="查询封面资源" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugSampler>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询全部" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;${ID}&quot;,&quot;data&quot;:{}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/event/covers</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="Get Random ID" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import jmeter_extlib.ExtLibrary;
String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证响应数据结构" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = responseJSON.getNames(responseJSON);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();
//System.out.println(field_name);

if (field_name.indexOf(&quot;dataidtimeversio&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证封面个数" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

int count = 0;
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
	JSONArray covers = data.getJSONArray(&quot;covers&quot;);
	count = covers.length();
	System.out.println(count);
}
catch (Exception e) {
	System.out.println(e);
}


if (count !=7 )
{                       
	Failure = true;
	FailureMessage = &quot;Covers number is not right&quot;;
}
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询默认" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;M9PITQGE2E&quot;,&quot;data&quot;:{&quot;tag&quot;:&quot;default&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/event/covers</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证Title" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

int count = 0;
String title = &quot;&quot;;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
	JSONArray covers = data.getJSONArray(&quot;covers&quot;);
	for (int i = 0; i &lt; covers.length(); i++) { 
        title = title + covers.getJSONObject(i).getString(&quot;title&quot;);
        //System.out.println(temp);
	}
}
catch (Exception e) {
	System.out.println(e);
}


if (title.indexOf(&quot;共享文件共享照片共享视频&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Title value is not right. actual name:&quot; + temp;
} 
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询指定时间范围内的事件(event/query_between)" enabled="true"/>
            <hashTree>
              <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="查询指定时间范围内的事件" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugSampler>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="带有效的开始时间与结束时间" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;OUT6EIJMZS&quot;,&quot;data&quot;:{&quot;begin_time&quot;:${start},&quot;end_time&quot;:${end},&quot;show_repeated&quot;:0}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/event/query_between</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="得到开始时间与结束时间戳" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import jmeter_extlib.ExtLibrary;
String start = new ExtLibrary().dateToStamp(&quot;2016-06-01-10&quot;);
vars.put(&quot;start&quot;,start);
String end = new ExtLibrary().dateToStamp(&quot;2016-06-05-10&quot;);
vars.put(&quot;end&quot;,end);
</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49592">206</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证事件的时间" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

long time = 0;
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
	JSONArray posts = data.getJSONArray(&quot;posts&quot;);
	String start = vars.get(&quot;start&quot;);
	String end = vars.get(&quot;end&quot;);

	for (int i = 0; i &lt; posts.length(); i++) { 
        time = posts.getJSONObject(i).getJSONObject(&quot;timeline_data&quot;).getLong(&quot;event_time&quot;);
        //System.out.println(time);
        if (time &lt; Long.parseLong(start) || time &gt; Long.parseLong(end)){
        		Failure = true;
			FailureMessage = &quot;Event time is not right &quot; + &quot;start:&quot; + start + &quot; end:&quot; + end + &quot; event_time:&quot; + String.valueOf(time);
			break;
        }
	}
}
catch (Exception e) {
	System.out.println(e);
}


</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开始时间&gt;结束时间" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;OUT6EIJMZS&quot;,&quot;data&quot;:{&quot;begin_time&quot;:${start},&quot;end_time&quot;:${end},&quot;show_repeated&quot;:0}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/event/query_between</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="得到开始时间与结束时间戳" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import jmeter_extlib.ExtLibrary;
String start = new ExtLibrary().dateToStamp(&quot;2016-06-09-10&quot;);
vars.put(&quot;start&quot;,start);
String end = new ExtLibrary().dateToStamp(&quot;2016-06-05-10&quot;);
vars.put(&quot;end&quot;,end);
</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证ERROR信息" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String error = &quot;&quot;;
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
try{
	 error = responseJSON.getString(&quot;error&quot;);
	 System.out.println(error);
}
catch (Exception e) {
	System.out.println(e);
}


if (error.length() == 0)
{                       
	Failure = true;
	FailureMessage = &quot;Error information is not right&quot;;
} 
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="我的事件(event/my_event)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="我的事件（指定返回的行数）" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;E8G2QMA9AE&quot;,&quot;data&quot;:{&quot;type&quot;:&quot;up&quot;,&quot;query_date&quot;:0,&quot;offset&quot;:0,&quot;rows&quot;:1}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/event/my_event</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证行数" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

long time = 0;
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
	JSONArray posts = data.getJSONArray(&quot;posts&quot;);

	if (posts.length() != 1){
        	Failure = true;
		FailureMessage = &quot;Rows are not right, actual: &quot; + String.valueOf(posts.length());
        }
	
}
catch (Exception e) {
	System.out.println(e);
}


</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="创建-查询-删除" enabled="true">
              <stringProp name="TestPlan.comments">测试前提：确保测试账户只包含唯一的群日历，并且里面无任何事件</stringProp>
            </GenericController>
            <hashTree>
              <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="title" elementType="Argument">
                    <stringProp name="Argument.name">title</stringProp>
                    <stringProp name="Argument.value"></stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                  <elementProp name="curtime" elementType="Argument">
                    <stringProp name="Argument.name">curtime</stringProp>
                    <stringProp name="Argument.value"></stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </Arguments>
              <hashTree/>
              <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="创建-查询-删除" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugSampler>
              <hashTree/>
              <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="${TagList}" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugSampler>
              <hashTree/>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="创建事件(event/create)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建简单事件" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;id&quot;:&quot;QHNF1I7258&quot;,&quot;data&quot;:{&quot;recognition&quot;:&quot;&quot;,&quot;event_info&quot;:{&quot;event_id&quot;:0,&quot;title&quot;:&quot;${title}&quot;,&quot;content&quot;:&quot;&quot;,&quot;extra&quot;:&quot;&quot;,&quot;event_time&quot;:0,&quot;begin_time&quot;:&quot;${start}&quot;,&quot;end_time&quot;:&quot;${end}&quot;,&quot;public_visible&quot;:&quot;1&quot;,&quot;time_type&quot;:0,&quot;event_duration&quot;:0,&quot;location&quot;:&quot;&quot;,&quot;location_address&quot;:&quot;&quot;,&quot;location_latitude&quot;:0,&quot;location_longitude&quot;:0,&quot;completion_condition&quot;:1,&quot;completion_condition_end&quot;:0,&quot;reminders&quot;:[0,3600],&quot;reminders_end&quot;:[],&quot;repeated_type&quot;:0,&quot;repeated_times&quot;:&quot;&quot;,&quot;repeated_end_time&quot;:0,&quot;tags&quot;:[],&quot;templet_id&quot;:0,&quot;templet_event_id&quot;:0,&quot;sponsor_id&quot;:0,&quot;tag_id&quot;:0,&quot;cover_url&quot;:null,&quot;video_url&quot;:null,&quot;background_color&quot;:null,&quot;isDetailEditing&quot;:false,&quot;isGoEditState&quot;:false},&quot;timeline_id&quot;:0,&quot;tag_info&quot;:null,&quot;tag_ids&quot;:[${tagid}]}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置开始时间与结束时间戳，title" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import jmeter_extlib.ExtLibrary;
String tstamp = new ExtLibrary().stampNowDate();
//System.out.println(tstamp);
String start = new ExtLibrary().addTime(tstamp,2,&quot;hour&quot;);
//System.out.println(start);
vars.put(&quot;start&quot;,start);
String end = new ExtLibrary().addTime(tstamp,3,&quot;hour&quot;);
vars.put(&quot;end&quot;,end);
//System.out.println(end);
String title = &quot;qatest_&quot; + tstamp;
vars.put(&quot;title&quot;,title);
String[] tags = vars.get(&quot;TagList&quot;).split(&quot;:&quot;);
System.out.println(tags[0]);
vars.put(&quot;tagid&quot;,tags[0]);
</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="得到event_Id" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
try
{
	Long event_id = data.getLong(&quot;event_id&quot;);
	vars.put(&quot;event_id&quot;,String.valueOf(event_id));
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}



</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询事件详情(event/slide)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询事件详情" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;id&quot;:&quot;68V3W4ZYD9&quot;,&quot;data&quot;:{&quot;event_id&quot;:&quot;${event_id}&quot;,&quot;timeline_id&quot;:0}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/slide</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证响应的数据结构" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

int count = 0;
String name = &quot;&quot;;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
JSONObject pdata = data.getJSONObject(&quot;post_data&quot;);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = pdata.getNames(pdata);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();
//System.out.println(field_name);

if (field_name.indexOf(&quot;data_typeeventplugin_typesponsortags&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}</stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证event_id" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String temp = &quot;&quot;;
String exp_eid = vars.get(&quot;event_id&quot;);
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;).getJSONObject(&quot;post_data&quot;).getJSONObject(&quot;event&quot;);
	Long eid = data.getLong(&quot;event_id&quot;);
	temp = String.valueOf(eid);

}
catch (Exception e) {
	System.out.println(e);
}

if (!exp_eid.equals(temp))
{                       
	Failure = true;
	FailureMessage = &quot;Event id is not right&quot;;
} </stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询事件详情(event/query mini slide)" enabled="true">
                <stringProp name="TestPlan.comments">只包括事件的相关信息</stringProp>
              </GenericController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询事件详情mini" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;id&quot;:&quot;68V3W4ZYD9&quot;,&quot;data&quot;:{&quot;event_id&quot;:&quot;${event_id}&quot;,&quot;timeline_id&quot;:0}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/query</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证响应的数据结构" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

int count = 0;
String name = &quot;&quot;;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
JSONObject pdata = data.getJSONObject(&quot;event&quot;);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = pdata.getNames(pdata);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();
//System.out.println(field_name);

if (field_name.indexOf(&quot;background_colorbegin_all_daybegin_timecompletion_conditioncompletion_condition_endcontentcreate_timeend_all_dayend_timeevent_durationevent_idevent_timeextrahas_remarkshas_signinhas_statehas_votelocationlocation_addresslocation_latitudelocation_longitudepublic_visibleremindersreminders_endrepeated_end_timerepeated_timesrepeated_typescene_idsponsor_idtemplet_event_idtemplet_idtime_typetitleupdate_time&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}</stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证event_id" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String temp = &quot;&quot;;
String exp_eid = vars.get(&quot;event_id&quot;);
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;).getJSONObject(&quot;event&quot;);
	Long eid = data.getLong(&quot;event_id&quot;);
	temp = String.valueOf(eid);

}
catch (Exception e) {
	System.out.println(e);
}

if (!exp_eid.equals(temp))
{                       
	Failure = true;
	FailureMessage = &quot;Event id is not right&quot;;
} </stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="参与者列表(event/actors)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="参与者列表" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;id&quot;:&quot;GPOCT489ID&quot;,&quot;data&quot;:{&quot;request_type&quot;:&quot;0&quot;,&quot;event_id&quot;:&quot;${event_id}&quot;,&quot;timeline_id&quot;:&quot;129812&quot;}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/actors</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证userid" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

int count = 0;
int uid = 0;
boolean flag = false;
String exp_uid = vars.get(&quot;UserID&quot;);
String temp = &quot;&quot;;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
	JSONArray rept = data.getJSONArray(&quot;actors&quot;);
	for (int i = 0; i &lt; rept.length(); i++) { 
        uid = rept.getJSONObject(i).getJSONObject(&quot;actor&quot;).getInt(&quot;user_id&quot;);
        temp = String.valueOf(uid);
        if (exp_uid.equals(temp)){
        	flag = true;
        	break;
        }
	}
}
catch (Exception e) {
	System.out.println(e);
}

if (!flag)
{                       
	Failure = true;
	FailureMessage = &quot;Actors list is not right&quot;;
} </stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询指定标签或模板的事件列表(event/list)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询指定标签或模板的事件列表" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&#xd;
    &quot;id&quot; : &quot;${ID}&quot; ,&#xd;
    &quot;time&quot; : &quot;${curtime}&quot;,&#xd;
    &quot;data&quot;:{&#xd;
        &quot;tag_id&quot;:${tagid},&#xd;
        &quot;templet_id&quot;:0,&#xd;
        &quot;from_user_id&quot;: ${UserID}&#xd;
    }&#xd;
}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/list</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置参数值" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import jmeter_extlib.ExtLibrary;
String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);
String tstamp = new ExtLibrary().stampNowDate();
vars.put(&quot;curtime&quot;,tstamp);

String[] tags = vars.get(&quot;TagList&quot;).split(&quot;:&quot;);
vars.put(&quot;tagid&quot;,tags[0]);



</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证event数量与ID" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String temp = &quot;&quot;;
String exp_eid = vars.get(&quot;event_id&quot;);
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

try{
	JSONArray data = responseJSON.getJSONObject(&quot;data&quot;).getJSONArray(&quot;posts&quot;);
	//System.out.println(data.length());
	if (data.length() != 1)
	{                       
		Failure = true;
		FailureMessage = &quot;Event count is not right&quot;;
		
	} 
	else{
		Long eid = data.getJSONObject(0).getLong(&quot;event_id&quot;);
		temp = String.valueOf(eid);
		//System.out.println(temp);
		//System.out.println(exp_eid);
	
		if (!exp_eid.equals(temp))
		{                       
			Failure = true;
			FailureMessage = &quot;Event id is not right&quot;;
		} 	
	}

}
catch (Exception e) {
	System.out.println(e);
}

</stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询事件集详情(event/query_event_within_tag)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询事件集详情详情" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;id&quot;:&quot;6IMUFD6MPA&quot;,&quot;data&quot;:{&quot;type&quot;:&quot;down&quot;,&quot;query_date&quot;:0,&quot;offset&quot;:0,&quot;rows&quot;:-1,&quot;first_request&quot;:1,&quot;tag_id&quot;:${tagid}}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/query_event_within_tag</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证event数量与ID" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String temp = &quot;&quot;;
String exp_eid = vars.get(&quot;event_id&quot;);
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

try{
	JSONArray data = responseJSON.getJSONObject(&quot;data&quot;).getJSONArray(&quot;posts&quot;);
	if (data.length() != 1)
	{                       
		Failure = true;
		FailureMessage = &quot;Event count is not right&quot;;
		
	}
	else
	{
		Long eid = data.getJSONObject(0).getJSONObject(&quot;event_info&quot;).getLong(&quot;event_id&quot;);
		temp = String.valueOf(eid);
	
		if (!exp_eid.equals(temp))
		{                       
			Failure = true;
			FailureMessage = &quot;Event id is not right&quot;;
		} 
	}


}
catch (Exception e) {
	System.out.println(e);
}

</stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="?????获取事件的事件集(event/query_tags)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取事件的事件集" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&#xd;
    &quot;id&quot; : &quot;${ID}&quot; ,&#xd;
    &quot;time&quot; : &quot;${curtime}&quot;,&#xd;
    &quot;data&quot;:{&#xd;
        &quot;tag_id&quot;:[${tagid}],&#xd;
        &quot;user_id&quot;: ${UserID}&#xd;
    }&#xd;
}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/query_tags</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置参数值" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import jmeter_extlib.ExtLibrary;
String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);
String tstamp = new ExtLibrary().stampNowDate();
vars.put(&quot;curtime&quot;,tstamp);

String[] tags = vars.get(&quot;TagList&quot;).split(&quot;:&quot;);
vars.put(&quot;tagid&quot;,tags[0]);



</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="?????用户有管理权限的事件集列表(event/admin_tags)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户有管理权限的事件集列表" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&#xd;
    &quot;id&quot; : ${ID},&#xd;
    &quot;time&quot; : ${curtime},&#xd;
    &quot;data&quot; : {&#xd;
        &quot;user_id&quot; : ${UserID},&#xd;
    }&#xd;
}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/admin_tags</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置参数值" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import jmeter_extlib.ExtLibrary;
String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);
String tstamp = new ExtLibrary().stampNowDate();
vars.put(&quot;curtime&quot;,tstamp);

String[] tags = vars.get(&quot;TagList&quot;).split(&quot;:&quot;);
vars.put(&quot;tagid&quot;,tags[0]);



</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证event数量与ID" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String temp = &quot;&quot;;
String exp_eid = vars.get(&quot;event_id&quot;);
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

try{
	JSONArray data = responseJSON.getJSONObject(&quot;data&quot;).getJSONObject(&quot;posts&quot;);
	if (data.length() != 1)
	{                       
		Failure = true;
		FailureMessage = &quot;Event count is not right&quot;;
		
	} 


}
catch (Exception e) {
	System.out.println(e);
}

</stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="????参与事件(event/join)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="参与事件" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&#xd;
    &quot;id&quot; : ${ID},&#xd;
    &quot;time&quot; : ${curtime},&#xd;
    &quot;data&quot; : {&#xd;
        &quot;tag_id&quot;:&quot;${tagid}&quot;,&#xd;
        &quot;event_id&quot;:&quot;${event_id}&quot;,&#xd;
        &quot;vote_answer&quot;:[&#xd;
            {&#xd;
                &quot;question_id&quot;:123,&#xd;
                &quot;selecteds&quot;:[&#xd;
                    1,&#xd;
                    4&#xd;
                ],&#xd;
                &quot;new_options&quot;:[&#xd;
                    {&#xd;
                        &quot;question_id&quot;:123,&#xd;
                        &quot;content&quot;:&quot;选项内容&quot;&#xd;
                    }&#xd;
                ]&#xd;
            },&#xd;
            {&#xd;
                &quot;question_id&quot;:124,&#xd;
                &quot;selecteds&quot;:[&#xd;
                    2&#xd;
                ],&#xd;
                &quot;new_options&quot;:[&#xd;
                    {&#xd;
                        &quot;question_id&quot;:124,&#xd;
                        &quot;content&quot;:&quot;选项内容&quot;&#xd;
                    }&#xd;
                ]&#xd;
            }&#xd;
        ],&#xd;
        &quot;remarks_answer&quot;:[&#xd;
            {&#xd;
                &quot;answer_id&quot;: 122,&#xd;
                &quot;question_id&quot;:23,&#xd;
                &quot;text&quot;:&quot;张博&quot;,&#xd;
                &quot;selecteds&quot;:[&#xd;
                    2&#xd;
                ],&#xd;
                &quot;new_options&quot;:[&#xd;
                    {&#xd;
                        &quot;question_id&quot;:124,&#xd;
                        &quot;option_id&quot;: 23,&#xd;
                        &quot;content&quot;:&quot;选项内容&quot;&#xd;
                    }&#xd;
                ]&#xd;
            }&#xd;
        ]&#xd;
    }&#xd;
}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/join</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置参数" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import jmeter_extlib.ExtLibrary;

String tstamp = new ExtLibrary().stampNowDate();
vars.put(&quot;curtime&quot;,tstamp);

String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);
</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证响应JSON结构" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = responseJSON.getNames(responseJSON);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();
//System.out.println(field_name);

if (field_name.indexOf(&quot;dataidtimeversio&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}
</stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="分享事件(event/share)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="分享事件(event/share)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;id&quot;:&quot;NE6V9PTDTI&quot;,&quot;data&quot;:{&quot;event_id&quot;:${event_id},&quot;timeline_id&quot;:131778}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/share</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证URL" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String url=&quot;&quot;;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
try
{
	url = data.getString(&quot;share_image_url&quot;);
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}

if (url.length() &lt; 1)
{                       
	Failure = true;
	FailureMessage = &quot;share_image_url is not right&quot;;
}
</stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="更新事件" enabled="true"/>
              <hashTree>
                <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="更新事件(event/update)" enabled="true"/>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新事件(event/update)" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;id&quot;:&quot;S342T5968U&quot;,&quot;data&quot;:{&quot;event_info&quot;:{&quot;event_id&quot;:${event_id},&quot;title&quot;:&quot;Update${title}&quot;,&quot;content&quot;:&quot;&quot;,&quot;event_time&quot;:0,&quot;time_type&quot;:0,&quot;event_duration&quot;:0,&quot;begin_time&quot;:${start},&quot;begin_all_day&quot;:0,&quot;end_time&quot;:${end},&quot;end_all_day&quot;:0,&quot;location&quot;:&quot;&quot;,&quot;location_longitude&quot;:0,&quot;location_latitude&quot;:0,&quot;location_address&quot;:&quot;&quot;,&quot;extra&quot;:&quot;&quot;,&quot;reminders&quot;:[0,3600],&quot;reminders_end&quot;:[],&quot;repeated_type&quot;:0,&quot;repeated_times&quot;:&quot;&quot;,&quot;repeated_end_time&quot;:0,&quot;sponsor_id&quot;:12424,&quot;scene_id&quot;:0,&quot;background_color&quot;:&quot;#FBEBD8&quot;,&quot;templet_id&quot;:0,&quot;templet_event_id&quot;:0,&quot;create_time&quot;:${curtime},&quot;update_time&quot;:${curtime},&quot;has_vote&quot;:0,&quot;has_remarks&quot;:0,&quot;has_signin&quot;:0,&quot;has_state&quot;:0,&quot;completion_condition&quot;:1,&quot;completion_condition_end&quot;:0,&quot;public_visible&quot;:1},&quot;timeline_id&quot;:&quot;131778&quot;,&quot;tag_ids&quot;:[${tagid}]}}&#xd;
</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                    <stringProp name="HTTPSampler.path">/server/ytime_mp/event/update</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置开始时间与结束时间戳，title" enabled="true">
                      <boolProp name="resetInterpreter">false</boolProp>
                      <stringProp name="parameters"></stringProp>
                      <stringProp name="filename"></stringProp>
                      <stringProp name="script">import jmeter_extlib.ExtLibrary;
String tstamp = new ExtLibrary().stampNowDate();
vars.put(&quot;curtime&quot;,tstamp);</stringProp>
                    </BeanShellPreProcessor>
                    <hashTree/>
                    <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                      <collectionProp name="Asserion.test_strings">
                        <stringProp name="49592">206</stringProp>
                      </collectionProp>
                      <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                      <boolProp name="Assertion.assume_success">false</boolProp>
                      <intProp name="Assertion.test_type">8</intProp>
                    </ResponseAssertion>
                    <hashTree/>
                    <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证event_id" enabled="true">
                      <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
String temp = &quot;&quot;;
String exp_eid = vars.get(&quot;event_id&quot;);
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
try
{
		Long eid = data.getLong(&quot;event_id&quot;);
		temp = String.valueOf(eid);
	
		if (!exp_eid.equals(temp))
		{                       
			Failure = true;
			FailureMessage = &quot;Event id is not right&quot;;
		} 
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}</stringProp>
                      <stringProp name="BeanShellAssertion.filename"></stringProp>
                      <stringProp name="BeanShellAssertion.parameters"></stringProp>
                      <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                    </BeanShellAssertion>
                    <hashTree/>
                  </hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="验证事件更新" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;id&quot;:&quot;68V3W4ZYD9&quot;,&quot;data&quot;:{&quot;event_id&quot;:&quot;${event_id}&quot;,&quot;timeline_id&quot;:0}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                    <stringProp name="HTTPSampler.path">/server/ytime_mp/event/query</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                      <collectionProp name="Asserion.test_strings">
                        <stringProp name="49592">206</stringProp>
                      </collectionProp>
                      <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                      <boolProp name="Assertion.assume_success">false</boolProp>
                      <intProp name="Assertion.test_type">8</intProp>
                    </ResponseAssertion>
                    <hashTree/>
                    <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证更新数据" enabled="true">
                      <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String temp = &quot;&quot;;
String exp_title = &quot;Update&quot; + vars.get(&quot;title&quot;);
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

try{
	JSONObject data = responseJSON.getJSONObject(&quot;data&quot;).getJSONObject(&quot;event&quot;);
	String title = data.getString(&quot;title&quot;);
	temp = String.valueOf(title);

}
catch (Exception e) {
	System.out.println(e);
}

if (!exp_title.equals(temp))
{                       
	Failure = true;
	FailureMessage = &quot;Event id is not right&quot;;
} </stringProp>
                      <stringProp name="BeanShellAssertion.filename"></stringProp>
                      <stringProp name="BeanShellAssertion.parameters"></stringProp>
                      <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                    </BeanShellAssertion>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="????修改提醒设置(event/set_reminders)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="修改提醒设置" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&#xd;
    &quot;id&quot; : ${ID},&#xd;
    &quot;time&quot; : ${curtime},&#xd;
    &quot;data&quot; : {&#xd;
        &quot;user_id&quot; : 0,&#xd;
        &quot;event_id&quot; : ${event_id},&#xd;
        &quot;reminders&quot; : [0,900],&#xd;
        &quot;reminders_end&quot; : [0,900],&#xd;
        &quot;completion_condition&quot; : 1,&#xd;
        &quot;completion_condition_end&quot; : 1,&#xd;
    }&#xd;
 }</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/set_reminders</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置参数" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import jmeter_extlib.ExtLibrary;

String tstamp = new ExtLibrary().stampNowDate();
vars.put(&quot;curtime&quot;,tstamp);

String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);
</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证event_id" enabled="true">
                    <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
String temp = &quot;&quot;;
String exp_eid = vars.get(&quot;event_id&quot;);
JSONObject responseJSON = new JSONObject(jsonString);

try
{
		JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
		Long eid = data.getLong(&quot;event_id&quot;);
		temp = String.valueOf(eid);
	
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}

if (!exp_eid.equals(temp))
{                       
	Failure = true;
	FailureMessage = &quot;Event id is not right&quot;;
} </stringProp>
                    <stringProp name="BeanShellAssertion.filename"></stringProp>
                    <stringProp name="BeanShellAssertion.parameters"></stringProp>
                    <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                  </BeanShellAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="退出事件(event/quit)" enabled="false"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="退出事件" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value"></stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/quit</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置开始时间与结束时间戳，title" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import jmeter_extlib.ExtLibrary;
System.out.println(&quot;test&quot;);
String tstamp = new ExtLibrary().stampNowDate();
System.out.println(tstamp);
String start = new ExtLibrary().addTime(tstamp,2,&quot;hour&quot;);
System.out.println(start);
vars.put(&quot;start&quot;,start);
String end = new ExtLibrary().addTime(tstamp,3,&quot;hour&quot;);
vars.put(&quot;end&quot;,end);
System.out.println(end);
String title = &quot;qatest_&quot; + tstamp;
vars.put(&quot;title&quot;,title);
</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49586">200</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="得到event_Id" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
try
{
	Long event_id = data.getLong(&quot;event_id&quot;);
	vars.put(&quot;event_id&quot;,String.valueOf(event_id));
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}



</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="删除事件(event/delete)" enabled="true"/>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除事件" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;id&quot;:&quot;ZKXXHS75I5&quot;,&quot;data&quot;:{&quot;event_id&quot;:&quot;${event_id}&quot;}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/server/ytime_mp/event/delete</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49592">206</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">8</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="验证结果" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
try
{
	String result = data.getString(&quot;result&quot;);
	if (!result.equals(&quot;success&quot;))
	{                       
		Failure = true;
		FailureMessage = &quot;Delete event is failed&quot;;
	} 
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}



</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
          </hashTree>
          <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="群日历" enabled="true"/>
          <hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="群日历" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Request Header" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">charset</stringProp>
                  <stringProp name="Header.value">utf-8</stringProp>
                </elementProp>
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">content-type</stringProp>
                  <stringProp name="Header.value">application/json</stringProp>
                </elementProp>
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">session-id</stringProp>
                  <stringProp name="Header.value">${SessionID}</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询群日历(tag/my_tags)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询群日历" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;P6WHS7L336&quot;,&quot;data&quot;:{&quot;user_id&quot; : ${UserID}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/tag/my_tags</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49592">206</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="得到Tag" enabled="true">
                  <stringProp name="filename"></stringProp>
                  <stringProp name="parameters"></stringProp>
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="script">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);

int tagid = 0;
String res = &quot;&quot;;

try
{
	JSONArray tags = data.getJSONArray(&quot;managed_tags&quot;);
	for (int i = 0; i &lt; tags.length(); i++) { 
        tagid = tags.getJSONObject(i).getJSONObject(&quot;tag&quot;).getInt(&quot;tag_id&quot;);
        res = res + String.valueOf(tagid) + &quot;:&quot;;
	}
	
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);	
}

vars.put(&quot;TagList&quot;,res);

</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="群日历资料(/tag/tag_data)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="群日历资料" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;G6M4YIV97S&quot;,&quot;data&quot;:{&quot;user_id&quot;:${UserID},&quot;tag_id&quot;:${tagid}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/tag/tag_data</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置参数值" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import jmeter_extlib.ExtLibrary;
String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);

String[] tags = vars.get(&quot;TagList&quot;).split(&quot;:&quot;);
vars.put(&quot;tagid&quot;,tags[0]);



</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49592">206</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证data结构" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = data.getNames(data);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();

if (field_name.indexOf(&quot;actorsactors_countsend_configtag&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="新事件通知(/tag/event_notify)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新事件通知" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;5F8RMMNRZS&quot;,&quot;data&quot;:{&quot;user_id&quot;:${UserID},&quot;tag_id&quot;:${tagid},&quot;send_notify&quot;:1}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/tag/event_notify</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49592">206</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="验证结果" enabled="true">
                  <stringProp name="filename"></stringProp>
                  <stringProp name="parameters"></stringProp>
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="script">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
try
{
	String result = data.getString(&quot;result&quot;);
	if (!result.equals(&quot;success&quot;))
	{                       
		Failure = true;
		FailureMessage = &quot;Set notification is failed&quot;;
	} 
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}



</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="消息提醒协议(message/query)" enabled="true"/>
          <hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="消息提醒协议" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="消息提醒(/message/query)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="带所有类型" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;2GDI3FAKDM&quot;,&quot;data&quot;:{&quot;type&quot;:&quot;event_change/event_join/event_reminder/moments&quot;,&quot;begin_time&quot; : 0,&quot;,&quot;user_id&quot;:&quot;${UserID}&quot;,&quot;limit_rows&quot;:-1,&quot;begin_time&quot;:0,&quot;is_new&quot;:1,&quot;query_unread_count&quot;:1}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/message/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49592">206</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="不带USERID" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;2GDI3FAKDM&quot;,&quot;data&quot;:{&quot;type&quot;:&quot;event_reminder&quot;,&quot;limit_rows&quot;:-1,&quot;begin_time&quot;:0,&quot;is_new&quot;:1,&quot;query_unread_count&quot;:1}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/message/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证ERROR信息" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String error = &quot;&quot;;
String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
try{
	 error = responseJSON.getString(&quot;error&quot;);
	 System.out.println(error);
}
catch (Exception e) {
	System.out.println(e);
}


if (error.length() == 0)
{                       
	Failure = true;
	FailureMessage = &quot;Error information is not right&quot;;
} 
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="上传formid(/sys/submit_form_id)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="带所有类型" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;459UA57O28&quot;,&quot;data&quot;:{&quot;form_id&quot;:&quot;1496916576311&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/sys/submit_form_id</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="验证响应代码" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49592">206</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="验证结果" enabled="true">
                  <stringProp name="filename"></stringProp>
                  <stringProp name="parameters"></stringProp>
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="script">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
try
{
	String result = data.getString(&quot;result&quot;);
	if (!result.equals(&quot;success&quot;))
	{                       
		Failure = true;
		FailureMessage = &quot;Delete event is failed&quot;;
	} 
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}



</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="模板" enabled="true"/>
          <hashTree>
            <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="模板" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugSampler>
            <hashTree/>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询模板列表(/templet/query_list)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询模板(templet/query_list)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;P6WHS7L336&quot;,&quot;data&quot;:{}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/templet/query_list</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证data结构" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = data.getNames(data);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();

if (field_name.indexOf(&quot;categorysguide_closedhot_templetshot_titlesliders&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="得到templet_Id" enabled="true">
                  <stringProp name="filename"></stringProp>
                  <stringProp name="parameters"></stringProp>
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="script">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);
try
{
	Long event_id = data.getLong(&quot;event_id&quot;);
	vars.put(&quot;event_id&quot;,String.valueOf(event_id));
}
catch (Exception e){
	System.out.println(&quot;Exception:&quot; + e);
	
}



</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询模板详情(/templet/query)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="????查询模板详情(templet/query)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
    &quot;id&quot; : ${ID},&#xd;
    &quot;time&quot; : ${curtime},&#xd;
    &quot;data&quot; : {&#xd;
        &quot;templet_id&quot;:41&#xd;
    }&#xd;
 }</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/templet/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置参数" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import jmeter_extlib.ExtLibrary;

String tstamp = new ExtLibrary().stampNowDate();
vars.put(&quot;curtime&quot;,tstamp);

String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);
</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证data结构" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);
JSONObject data = responseJSON.getJSONObject(&quot;data&quot;);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = data.getNames(data);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();

if (field_name.indexOf(&quot;categorysguide_closedhot_templetshot_titlesliders&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="????使用模板(/templet/use)" enabled="true"/>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="使用模板(templet/use)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
    &quot;id&quot; : ${ID},&#xd;
    &quot;time&quot; : ${curtime},&#xd;
    &quot;data&quot; : {&#xd;
        &quot;templet_id&quot;:&quot;${templetID}&quot;,&#xd;
        &quot;params&quot;:{&#xd;
            &quot;base_time&quot;:${curtime},&#xd;
            &quot;title&quot;:&quot;QATEST&quot;&#xd;
        },&#xd;
        &quot;tag_id&quot;:${tagid},&#xd;
        &quot;create_mode&quot;:0&#xd;
    }&#xd;
 }</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/server/ytime_mp/templet/use</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="设置参数" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import jmeter_extlib.ExtLibrary;

String tstamp = new ExtLibrary().stampNowDate();
vars.put(&quot;curtime&quot;,tstamp);

String value = new ExtLibrary().get_number();
vars.put(&quot;ID&quot;,value);
</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="验证响应JSON结构" enabled="true">
                  <stringProp name="BeanShellAssertion.query">import org.json.*;
import java.util.Arrays;

String jsonString = prev.getResponseDataAsString();
JSONObject responseJSON = new JSONObject(jsonString);

String[] temp = null;
StringBuffer buf = new StringBuffer();
temp = responseJSON.getNames(responseJSON);
Arrays.sort(temp);

for (int i=0; i &lt; temp.length; i++)
{
	buf.append(temp[i]);
}

String field_name = buf.toString();
//System.out.println(field_name);

if (field_name.indexOf(&quot;dataidtimeversio&quot;) == -1)
{                       
	Failure = true;
	FailureMessage = &quot;Data structure is not matched with expected result. actual name:&quot; + field_name;
}
</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
    </hashTree>
    <WorkBench guiclass="WorkBenchGui" testclass="WorkBench" testname="工作台" enabled="true">
      <boolProp name="WorkBench.save">true</boolProp>
    </WorkBench>
    <hashTree/>
  </hashTree>
</jmeterTestPlan>
